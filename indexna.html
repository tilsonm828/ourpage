<!DOCTYPE html>
<html>
<head>
	<title>North Adams</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
	<link href="css/style.css" type="text/css" rel="stylesheet">
	<link rel="icon" href="images/na-logo.png">
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="0">
	
	<script src="jquery/jquery-latest.js" type="text/javascript"></script>
	<style>
		body,h1,h2,h3,h4,h5,h6 {font-family: "Raleway", sans-serif}
	</style>
	
	<style>
		#outer{width:90%;max-width:600px;background:#fff;text-align:center;margin:0 auto;font:500 18px arial}
		#cover{border:2px solid #111;padding:15px 0}
		.main{table-layout:fixed;width:96%;margin:5px auto;text-align:left;border:0}.main td{padding:0 8px;vertical-align:middle;width:50%;border:0}
		ul{padding:0 0 5px 5px;list-style:none}li{line-height:16px}
		.main input,select{width:100%;border:1px solid #ccc;margin:3px 0;padding:2px;text-align:center;}input.output{font-weight:bold;font-size:18px;padding:5px 0;border:0;text-align:center}
		#t1{width:100%;}#t2,#t3,#t4,#t5,#t6{display:none;width:100%;height:100%;}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script>
		i = 0;
		$(document).ready(function(){
		  $("input").keypress(function(){
		    $("span").text(i += 1);
		  });
		});
	
		function search() {
		var Blah = document.getElementById("Blah").value;
		window.open("https://www.google.com/search?q=" + Blah + "");
		}
	
		function search() {
		var sValue = document.getElementById("sValue").value;
		window.open("https://www.google.com/search?q=" + sValue + "");
		};
	
	</script>
	
	<script type="text/javascript">
		$('.nav').hide();
		$('#show').click(function (){
			$('.nav').show();
		});
		$('#hide').click(function (){
			$('.nav').hide();
		});
	</script>
</head>

<body class="w3-light-grey w3-content" style="max-width:1600px">

<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:320px;" id="mySidebar"><br>
  <div class="w3-container">
    <a href="#" onclick="w3_close()" class="w3-hide-large w3-right w3-jumbo w3-padding w3-hover-grey" title="close menu">
      <i class="fa fa-remove"></i>
    </a>
    <img src="images/avatar.png" style="width:48%;" class="w3-round"><br>
    <h4><b><a href="index.html">Home</a></b></h4>
  </div>
  
	<div class="w3-bar-block">
		<!-- Display Lunar Date -->
		<!-- 		<p style="color:red;font-family:'Microsoft Yahei'"><b>&nbsp;<script type="text/JavaScript" src="script/navCalcn.js"></script></b></p> -->
		
		<!-- Display Time & Date -->
		<!--Dayspedia.com widget
		<iframe width="100%" height='163' style='background: #000000; padding:0!important; margin:0!important; border:none!important; background:none!important; background:transparent!important' marginheight='0' marginwidth='0' frameborder='0' scrolling='no' comment='/*defined*/' src='https://dayspedia.com/widgets/digit/?v=1&iframe=eyJ3LTEyIjp0cnVlLCJ3LTExIjp0cnVlLCJ3LTEzIjpmYWxzZSwidy0xNCI6ZmFsc2UsInctMTUiOmZhbHNlLCJ3LXdpZHRoLTAiOnRydWUsInctd2lkdGgtMSI6ZmFsc2UsInctd2lkdGgtMiI6ZmFsc2UsInctMTYiOiIyNHB4Iiwidy0xOSI6IjQ4Iiwidy0xNyI6IjE2Iiwidy0yMSI6dHJ1ZSwiYmdpbWFnZSI6MCwiYmdpbWFnZVNldCI6dHJ1ZSwidy0yMWMwIjoiI2ZmZmZmZiIsInctMCI6dHJ1ZSwidy0zIjpmYWxzZSwidy0zYzAiOiIjMzQzNDM0Iiwidy0zYjAiOiIxIiwidy02IjoiI2FhMDMwMyIsInctMjAiOnRydWUsInctNCI6IiMwMDdkYmYiLCJ3LTE4Ijp0cnVlLCJ3LXdpZHRoLTJjLTAiOiIzMDAifQ==&lang=en&cityid=9626'></iframe>
		Dayspedia.com widget-->
		<iframe width='100%' height='164' style='padding:0!important;margin:0!important;border:none!important;background:none!important;background:transparent!important' marginheight='0' marginwidth='0' frameborder='0' scrolling='no' comment='/*defined*/' src='https://dayspedia.com/if/digit/?v=1&iframe=eyJ3LTEyIjp0cnVlLCJ3LTExIjp0cnVlLCJ3LTEzIjpmYWxzZSwidy0xNCI6ZmFsc2UsInctMTUiOmZhbHNlLCJ3LTExMCI6ZmFsc2UsInctd2lkdGgtMCI6dHJ1ZSwidy13aWR0aC0xIjpmYWxzZSwidy13aWR0aC0yIjpmYWxzZSwidy0xNiI6IjI0cHgiLCJ3LTE5IjoiNDgiLCJ3LTE3IjoiMTYiLCJ3LTIxIjp0cnVlLCJiZ2ltYWdlIjo3LCJiZ2ltYWdlU2V0Ijp0cnVlLCJ3LTIxYzAiOiIjZmZmZmZmIiwidy0wIjp0cnVlLCJ3LTMiOmZhbHNlLCJ3LTNjMCI6IiMzNDM0MzQiLCJ3LTNiMCI6IjEiLCJ3LTYiOiIjMzQzNDM0Iiwidy0yMCI6dHJ1ZSwidy00IjoiIzkzNmQwNiIsInctMTgiOnRydWUsInctd2lkdGgtMmMtMCI6IjMwMCIsInctMTE1IjpmYWxzZX0=&lang=en&cityid=1586'></iframe>
		<!-- End of Time & Date -->

		<!-- Calendar -->
		<img src="https://printcal.net/web-calendar.png?size=m&w=s&ho=04&mo=00&so=-1" alt="Printcal.net Calendar Widget" style="width:80%;height:85%"></a>
		<br>
	  <br>
  
<!--   <div class="w3-bar-block">
	<link rel="stylesheet" type="text/css" href="https://api.covid19ranking.com/css/covid19ranking-widget.css"/>
	<div class="covid19ranking covid-radius" data-country="CHINA"></div>
	<script src="https://api.covid19ranking.com/js/covid19ranking.js"></script>
  </div>
  <br> -->
  
	<!-- Sidebar Search bar -->
	<div>
		<input type="text" id="sValue" style="width:80%" ><br>
		<button id="searchBtn" onclick="search()" >  &nbsp; Google &nbsp;</button>
	</div>

	<script>
		var input = document.getElementById("sValue");
		input.addEventListener("keypress", function(event) {
		  if (event.key === "Enter") {
		    event.preventDefault();
		    document.getElementById("searchBtn").click();
		  }
		});
	</script>
	<br><br><br>
</nav>

<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:300px">

  <!-- Header -->
  <header id="home">
    <a href="#"><img src="images/avatar.jpg" style="width:65px;" class="w3-circle w3-right w3-margin w3-hide-large w3-hover-opacity"></a>
    <span class="w3-button w3-hide-large w3-xxlarge w3-hover-text-grey" onclick="w3_open()"><i class="fa fa-bars"></i></span>
  </header>
  
	<!-- start of page content right section -->
	<div class="w3-row-padding">
	<!-- <div> -->
		
		<!-- Image & Weather -->
		<div class="w3-row-padding">
			<img src="images/na.png" alt="mainphoto" style="width:100%"><br>
			<div style="width: 100%; height: 100%; padding: 0px 0;">
				<div id="weather-widget" style="background: linear-gradient(135deg, #9d8b6a 0%, #5f431d 30%); border-radius: 0; padding: 10px; color: white; font-family: Arial, sans-serif; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
					<div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap;">
						<div style="flex: 0 0 50%; min-width: 300px; margin-top: auto; margin-bottom: auto;">
							<div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
								<div style="flex: 1; min-width: 150px; margin-left: 10px;">
									<h3 id="weather-city" style="font-size: 18px; color: #b0b5b2; margin: 0 0;">North Adams, MA</h3>
									<div id="weather-condition" style="font-size: 25px;">Loading...</div>
									<div id="weather-details" style="font-size: 12px; line-height: 1.4; padding: 5px 2px;">
										<div>Wind: -- km/h</div>
										<div>Humidity: --%</div>
									</div>
								</div>
								<div style="text-align: right; min-width: 120px;">
								</div>
								<div style="text-align: center; min-width: 120px; margin-right: 10px;">
									<div id="weather-temp" style="font-size: 56px; font-weight: bold;">--Â°C</div>
									<div id="weather-feels" style="font-size: 16px; opacity: 0.8;">feels like --Â°C</div>
								</div>
							</div>
							<div id="weather-error" style="display: none; text-align: center; padding: 10px; background: rgba(255,255,255,0.2); border-radius: 5px; margin-top: 10px;"></div>
						</div>
						<!-- 5-Day Forecast -->
						<div id="weather-forecast" style="flex: 0 0 50%; background-color: #f5f5f5; border-radius: 8px; padding: 10px; min-width: 400px;">
							<div id="forecast-days" style="display: flex; justify-content: space-between; gap: 8px; flex-wrap: wrap;">
								<!-- Forecast days will be populated by JavaScript -->
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- <br> -->
		<!-- End of Image & Weather -->

		<!-- all logo list -->
		<div id="wrap">
		  <div class="content">
			<div class="grid">
				<ul>
					<li><a href="https://weather.com/weather/today/l/2181eb7d07fb4ac9d493c6e8d40319448f32a4732edcbe7ed23ec33f4af26ee0" target="_blank"><img src="images/weather.png" alt="Img">Weather</a></li>
					<li><a href="https://www.google.com/maps" target="_blank"><img src="images/google-maps.jpg" class="fullIcon" alt="Img">Maps</a></li>
					<li><a href="https://drive.google.com/drive" target="_blank"><img src="images/gdrive.png" alt="Img">Drive</a></li>
					<li><a href="https://translate.google.com" target="_blank"><img src="images/google-translate.jpg" class="fullIcon"alt="Img">Translate</a></li>
					<li><a href="https://templatemo.com" target="_blank"><img src="images/templatemo.jpg" class="fullIcon" alt="Img">Templatemo</a></li>
					<li><a href="https://www.ted.com" target="_blank"><img src="images/ted.jpg" class="fullIcon" alt="Img">TED</a></li>
					<li><a href="https://www.npr.org" target="_blank"><img src="images/npr-logo.jpg" class="fullIcon" alt="Img">NPR</a></li>
					<li><a href="https://www.scientificamerican.com" target="_blank"><img src="images/sa.jpg" alt="Img" class="fullIcon">SA</a></li>
					<li><a href="https://youdao.com" target="_blank"><img src="images/youdao.png" alt="Img" class="fullIcon">Youdao</a></li>
					<li><a href="https://www.iciba.com/" target="_blank"><img src="images/ciba.jpg" alt="Img" class="fullIcon">é‡‘å±±è¯éœ¸</a></li>
				</ul>
			</div>			
			
			<div class="grid">
				<ul>
					<li><a href="https://www.aljazeera.com/live" target="_blank"><img src="images/aljazeera.png" alt="Img">Al Jazeera</a></li>
					<li><a href="https://www.bloomberg.com/live" target="_blank"><img src="images/bloomberg.png" alt="Img">Bloomberg</a></li>
					<li><a href="https://www.channelnewsasia.com/" target="_blank"><img src="images/cna.jpg" class="fullIcon" alt="Img">CNA</a></li>
					<li><a href="https://news.sky.com/watch-live" target="_blank"><img src="images/skynews.jpg" class="fullIcon" alt="Img">SkyNews</a></li>
					<li><a href="https://www.trtworld.com/live" target="_blank"><img src="images/trt.jpg" class="fullIcon" alt="Img">TRT World</a></li>
					<li><a href="https://www.newsmax.com/" target="_blank"><img src="images/newsmax.png" class="fullIcon" alt="Img">NewsMax</a></li>
					<li><a href="https://www.cbsnews.com/boston/" target="_blank"><img src="images/cbsnboston.jpg" alt="Img">CBSN BOS</a></li>
					<li><a href="https://whdh.com/" target="_blank"><img src="images/7news.jpg" class="fullIcon" alt="img">7news</a></li>
					<li><a href="https://www.boston25news.com/" target="_blank"><img src="images/bos25.jpg" alt="Img">Bos25</a></li>
					<li><a href="https://pluto.tv/live-tv" target="_blank"><img src="images/pluto.jpg" class="fullIcon" alt="Img">Pluto TV</a></li>			
				</ul>
			</div>
		  </div>
		</div>
		<!-- end of all logo list -->
		
		<!-- Calendar & Currency Section -->
		<div class="w3-container w3-padding-64 w3-theme-l5">
			<div class="w3-row">
				
				<!-- Calendar Section Left -->
				<div class="w3-col m7">
					<iframe src="https://calendar.google.com/calendar/embed?ctz=America%2FNew_York" style="border: 0" width="90%" height="400" frameborder="0" scrolling="no"></iframe>
				</div>
				
				<!-- START of Currency Converter Section right -->
				<div class="w3-col m5">
					<h6>Currency</h6>
					<div align="center" style="margin: 0px; padding: 0px; border: 2px solid rgb(136, 136, 136); width: 240px; background-color: rgb(255, 255, 255);">
						<div align="center" style="width: 100%; border-bottom: 1px solid rgb(136, 136, 136); margin: 0px; padding: 0px; text-align: center; color: rgb(19, 47, 129); background-color: rgb(214, 207, 207);">
							<a class="V1label" href="https://fx-rate.net/USD/" style="text-decoration: none; font-size: 12px; font-weight: bold; text-align: center; font-family: Arial; margin-bottom: 6px; color: rgb(19, 47, 129);">$ US Dollar  &gt;&gt;&gt;  ï¿¥CNY</a>
						</div>
						<script type="text/javascript" src="https://fx-rate.net/converter.php?layout=vertical&amount=100&tcolor=132f81&currency=USD&default_pair=USD/CNY"></script>
					</div>			
				</div> <!-- End of Currency Converter -->
			</div>
		</div> 	<!-- End of Calendar & Currency Section -->
	</div> <!-- End right page content -->

</div> <!-- End !PAGE CONTENT! -->

<script>
// Script to open and close sidebar
function w3_open() {
    document.getElementById("mySidebar").style.display = "block";
    document.getElementById("myOverlay").style.display = "block";
}

function w3_close() {
    document.getElementById("mySidebar").style.display = "none";
    document.getElementById("myOverlay").style.display = "none";
}

// Weather widget functionality
async function fetchWeatherData() {
    try {
        // Baise city coordinates
        const latitude = 42.7;
        const longitude = -73.116667;
        
        const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code&daily=temperature_2m_max,temperature_2m_min,weather_code&timezone=Asia%2FShanghai&forecast_days=6`);
        
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();
        updateWeatherDisplay(data);
        
    } catch (error) {
        console.error('Error fetching weather data:', error);
        document.getElementById('weather-error').style.display = 'block';
        document.getElementById('weather-error').textContent = 'Unable to load weather data. Please try again later.';
        document.getElementById('weather-condition').textContent = 'Connection failed';
    }
}


function calculateWindChillMetric(tempC, windSpeed) {
    const vPow = Math.pow(windSpeed, 0.16);
    
    const windChill = 13.12 + (0.6215 * tempC) - (11.37 * vPow) + (0.3965 * tempC * vPow);
    
    return Math.round(windChill * 10) / 10;
}


function updateWeatherDisplay(data) {
	// print the data
	console.log(data);
    const current = data.current;
    const daily = data.daily;
	const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    const today = new Date();
    const date = new Date(today);
    const dayNumber = date.getDate();
    // Define options to request the full month name
	const options = { month: 'long' };
	// Use toLocaleDateString() to format the date
	const monthName = today.toLocaleDateString('en-US', options).slice(0,3);

    // Update current weather
    document.getElementById('weather-temp').textContent = `${Math.round(current.temperature_2m)}Â°C`;
    document.getElementById('weather-feels').textContent = `feels like ${Math.round(calculateWindChillMetric(current.temperature_2m, current.wind_speed_10m))}Â°C`;
    // document.getElementById('weather-condition').textContent = monthName + " " + dayNumber + ", " + getWeatherDescription(current.weather_code);
	document.getElementById('weather-condition').innerHTML = monthName + " " + dayNumber + ", <div style='color: #fad28e; font-weight: bold; display: inline-block;'>" + getWeatherDescription(current.weather_code) + "</div>";
	// console.log(document.getElementById('weather-condition').innerHTML); ======== Current Weather Info ========
    
    // Update details
    document.getElementById('weather-details').innerHTML = `
        <div>Wind: ${Math.round(current.wind_speed_10m)} km/h</div>
		<div>Humidity: ${current.relative_humidity_2m}%</div>
    `;
    
    // Update 5-day forecast
    updateForecastDisplay(daily);
    
    // Hide error message if shown
    document.getElementById('weather-error').style.display = 'none';
}

function updateForecastDisplay(daily) {
    const forecastContainer = document.getElementById('forecast-days');
    const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    const today = new Date();
    
    // Clear existing forecast
    forecastContainer.innerHTML = '';
    
    // Display next 5 days (skip today)
    for (let i = 1; i <= 5; i++) {
        const date = new Date(today);
        date.setDate(today.getDate() + i);
        const dayName = days[date.getDay()];
        const dayNumber = date.getDate();
        
        const maxTemp = Math.round(daily.temperature_2m_max[i]);
        const minTemp = Math.round(daily.temperature_2m_min[i]);
        const weatherCode = daily.weather_code[i];
        
        const forecastDay = document.createElement('div');
        forecastDay.style.cssText = `
            background: rgba(255,255,255,0.9);
            border-radius: 6px;
            padding: 8px 6px;
            text-align: center;
            min-width: 50px;
            flex: 1;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            border: 1px solid rgba(0,0,0,0.1);
        `;
        
        forecastDay.innerHTML = `
            <div style="font-size: 12px; font-weight: bold; margin-bottom: 4px; color: #333;">${dayName} / ${dayNumber}</div>
            <!-- <div style="font-size: 12px; opacity: 0.8; margin-bottom: 6px; color: #666;">${dayNumber}</div> -->
            <div style="font-size: 28px; margin: 0px 0;">${getWeatherEmoji(weatherCode)}</div>
            <div style="font-size: 15px; font-weight: bold;">
                <span style="color: #80756f;">${minTemp}Â° ~</span>
                <span style="color: #ad4107;">${maxTemp}Â°</span>
            </div>
            <div style="font-size: 13px; font-weight: bold; opacity: 0.9; margin-top: 0px; color: #555;">${getWeatherDescription(weatherCode)}</div>
        `;
        
        forecastContainer.appendChild(forecastDay);
    }
}

function getWeatherEmoji(weatherCode) {
    const weatherEmojis = {
        0: 'â˜€ï¸',  // Clear sky
        1: 'ğŸŒ¤ï¸',  // Mainly clear
        2: 'â›…',  // Partly cloudy
        3: 'â˜ï¸',  // Overcast
        45: 'ğŸŒ«ï¸', // Foggy
        48: 'ğŸŒ«ï¸', // Depositing rime fog
        51: 'ğŸŒ¦ï¸', // Light drizzle
        53: 'ğŸŒ¦ï¸', // Moderate drizzle
        55: 'ğŸŒ§ï¸', // Dense drizzle
        56: 'ğŸŒ§ï¸', // Light freezing drizzle
        57: 'ğŸŒ§ï¸', // Dense freezing drizzle
        61: 'ğŸŒ§ï¸', // Slight rain
        63: 'ğŸŒ§ï¸', // Moderate rain
        65: 'â›ˆï¸', // Heavy rain
        66: 'ğŸŒ§ï¸', // Light freezing rain
        67: 'â›ˆï¸', // Heavy freezing rain
        71: 'ğŸŒ¨ï¸', // Slight snow
        73: 'ğŸŒ¨ï¸', // Moderate snow
        75: 'â„ï¸', // Heavy snow
        77: 'ğŸŒ¨ï¸', // Snow grains
        80: 'ğŸŒ¦ï¸', // Slight rain showers
        81: 'ğŸŒ§ï¸', // Moderate rain showers
        82: 'â›ˆï¸', // Violent rain showers
        85: 'ğŸŒ¨ï¸', // Slight snow showers
        86: 'â„ï¸', // Heavy snow showers
        95: 'â›ˆï¸', // Thunderstorm
        96: 'â›ˆï¸', // Thunderstorm with slight hail
        99: 'ğŸŒ©ï¸'  // Thunderstorm with heavy hail
    };
    
    return weatherEmojis[weatherCode] || 'ğŸŒ¡ï¸';
}

function getWeatherDescription(weatherCode) {
    const weatherDescriptions = {
        0: 'Clear sky',
        1: 'Mainly clear',
        2: 'Partly cloudy',
        3: 'Overcast',
        45: 'Foggy',
        48: 'Depositing rime fog',
        51: 'Light drizzle',
        53: 'Moderate drizzle',
        55: 'Dense drizzle',
        56: 'Light freezing drizzle',
        57: 'Dense freezing drizzle',
        61: 'Slight rain',
        63: 'Moderate rain',
        65: 'Heavy rain',
        66: 'Light freezing rain',
        67: 'Heavy freezing rain',
        71: 'Slight snow',
        73: 'Moderate snow',
        75: 'Heavy snow',
        77: 'Snow grains',
        80: 'Slight rain showers',
        81: 'Moderate rain showers',
        82: 'Violent rain showers',
        85: 'Slight snow showers',
        86: 'Heavy snow showers',
        95: 'Thunderstorm',
        96: 'Thunderstorm with slight hail',
        99: 'Thunderstorm with heavy hail'
    };
    
    return weatherDescriptions[weatherCode] || 'Unknown condition';
}

// Initialize weather widget when page loads
document.addEventListener('DOMContentLoaded', function() {
    fetchWeatherData();
    // Refresh weather data every 30 minutes
    setInterval(fetchWeatherData, 30 * 60 * 1000);
});
</script>

</body>
</html>






